{"version":3,"names":["useComposedRefs","startTransition","idle","useAsyncEffect","useEvent","React","useFocusScopeControllerContext","Fragment","jsx","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","bubbles","cancelable","FocusScope","forwardRef","__scopeFocusScope","props","forwardedRef","context","warn","fallback","mergedProps","enabled","loop","trapped","onMountAutoFocus","onUnmountAutoFocus","forceUnmount","focusOnIdle","childProps","useFocusScope","children","cloneElement","Children","only","onMountAutoFocusProp","onUnmountAutoFocusProp","scopeProps","container","setContainer","useState","lastFocusedElementRef","useRef","setContainerTransition","useCallback","node","composedRefs","focusScope","paused","pause","resume","current","useEffect","controller","AbortController","handleFocusIn","event","target","contains","addEventListener","handleBlur","signal","focus","select","handleFocusOut","abort","relatedTarget","document","removeEventListener","focusScopesStack","add","previouslyFocusedElement","activeElement","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","max","min","candidates","removeLinks","getTabbableCandidates","focusFirst","unmountEvent","body","remove","handleKeyDown","isTabKey","key","altKey","ctrlKey","metaKey","focusedElement","container2","currentTarget","first","last","getTabbableEdges","shiftKey","preventDefault","tabIndex","ref","onKeyDown","candidate","findVisible","reverse","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","type","disabled","hidden","FILTER_SKIP","FILTER_ACCEPT","nextNode","push","currentNode","elements","element","isHidden","upTo","getComputedStyle","visibility","display","parentElement","isSelectableInput","HTMLInputElement","preventScroll","createFocusScopesStack","stack","activeFocusScope","arrayRemove","unshift","array","item","updatedArray","index","indexOf","splice","items","filter"],"sources":["../../src/FocusScope.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}